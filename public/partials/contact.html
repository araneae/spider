<div ng-controller="ContactCtrl as ctrl">
  <div class="row">
     <div class="col-md-offset-2 col-md-8">
       <div alert-bar message="ctrl.ErrorService.message" type="ctrl.ErrorService.type"></div>
     </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title clearfix">Contacts
        <div class="col-md-7 pull-right">
          <form name="FormContact" ng-submit="ctrl.search()">
            <div class="input-group">
              <div class="input-group-btn" data-placement="left" title="Clear search text">
                <button type="button" class="btn btn-default" id="idClearSearchTextBtn" ng-click="ctrl.clearSearchText()">Clear</button>
              </div>
              <input type="text" class="form-control" name="searchBox" id="idSearchBox" ng-model="ctrl.searchText" placeholder="First name, last name, etc" required>
              <div class="input-group-btn" data-placement="left" title="Search">
                <button type="submit" class="btn btn-default" id="idSearchBtn" ng-disabled="!FormContact.$valid">
                <span class="glyphicon glyphicon-search"></span>
                </button>
              </div>
            </div>
          </form>
       </div>
      </div>
    </div>
    <div class="panel-body">
      <div ng-hide="ctrl.contacts.length > 0">
        <form class="form-inline" role="form" ng-hide="ctrl.showInviteEmailSection">
          <div class="col-md-9">
            <div class="text-color-blue">{{ctrl.message}}</div>
          </div>
          <button type="button" class="btn btn-success" ng-show="ctrl.showEmalYesButton" ng-click="ctrl.showInviteEmail()">Yes</button>
        </form>
        <div class="clearfix" ng-show="ctrl.showInviteEmailSection">
          <div class="pull-right">
            <form class="form-inline" id="idInviteEmailForm" name="InviteEmailForm" role="form">
              <input type="email" class="form-control" ng-model="ctrl.inviteSignup.email" dataplacement="left" title="Enter your friend's email address"
                      placeholder="Enter your friend's email address" required></input>
              <button type="button" class="btn btn-success" ng-click="ctrl.sendSignupInviteEmail()" ng-disabled="!InviteEmailForm.$valid">Send Email</button>
            </form>
          </div>
        </div>
      <div>
      <table class="table table-striped" ng-show="ctrl.contacts.length > 0">
        <tr ng-repeat="contact in ctrl.contacts">
          <td class="col-md-2"></td>
          <td class="col-md-1">
              <img ng-src="{{contact.pictureUrl}}" height="80" width="80">
          </td>
          <td>
            <label>{{contact.firstName}} {{contact.lastName}}</label>
            <div>{{ctrl.getStatusDisplayName(contact.status)}}</div>
            <button type="button" class="btn btn-success" data-placement="left" title="{{ctrl.getInviteTitle(contact.status)}}"
                                              ng-show="ctrl.showSendInvite(contact)" ng-click="ctrl.goToInvite(contact)">{{ctrl.getInviteTitle(contact.status)}}</button>
            <button type="button" class="btn btn-success" data-placement="left" title="Accept" ng-show="ctrl.showAccept(contact)"
                                              ng-click="ctrl.accept(contact)">Accept</button>
            <button type="button" class="btn btn-warning" data-placement="left" title="Reject"
                                              ng-show="ctrl.showReject(contact)" ng-click="ctrl.reject(contact)">Reject</button>
          </td>
       </tr>
      </table>
    </div>
  </div>
</div>

